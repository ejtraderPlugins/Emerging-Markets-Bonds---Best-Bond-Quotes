<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>

		<meta http-equiv="X-UA-Compatible" content="IE=8">
 		<!-- <link rel="stylesheet" href="eikon.css" type="text/css" />  -->
		<!-- <link rel="stylesheet" href="nanoscroller.css">  -->
		<!--<script src="jquery.nanoscroller.min.js" type="text/javascript"></script>-->
		
		<link rel="stylesheet" href="table.css" type="text/css" />
		<link rel="stylesheet" href="depthtradesbrokerpages.css"> 
		<link rel="stylesheet" href="rightclickmenu.css">
		<link rel="stylesheet" href="shared.css" type="text/css" />
		
		<script src="jquery-1.7.js" type="text/javascript"></script>
		
		<script src="totalview.js" type="text/javascript"></script>	
		
		
		<style type="text/css">			
			.update
			{
				color: white;
			}
			html
			{
				overflow: hidden;
			}
			#menucloser
			{
				position: absolute;
				height:100%;  
				width:100%; 
			}
			#menucloser.sendtoback
			{
				z-index:-99;
			}
			#menucloser.bringtofront
			{
				z-index:2;
				
			}
			 /*--------------------------- Filter ------------------------------*/
			#filterplaceholder *
			{
				/*border: 1px solid red;*/
			}
			#filter
			{
				padding-top: 100px;
				list-style: none;
			}
			#filter div.button
			{
				height: 18px; width: 95px;
				outline: 1px solid #000000;
				border-top: 1px solid #464646;border-bottom: 1px solid #0B0B0B;border-left: 1px solid #242424;border-right: 1px solid #242424;
				background-color: #373737;
				filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#373737',EndColorStr='#030303');
				font-size: 10px;
				padding: 0px 2px 0px 2px;
			}
			#filter div.button a.buttontextfilter
			{
				height: 18px;width: 95px;
				display: inline-block;
				text-align: center;
				margin-top: 3px;margin-bottom: 3px;margin-left: 3px;margin-right: 12px;
				text-decoration: none;white-space: nowrap;outline: none;
				color:#BFBFBF;
			}
			#filter div.button a.buttontextfilter:hover
			{
				color: #FF8000;
			}
			#filter .filterlabel
			{
				width:7em;text-align:right;display:inline-block;margin-right:1em;
				color: #c8c7c7;
			}
			#filter li { margin: 5px auto; width: 350px; }

			#filter li div
			{
				margin-top: 10px;
				width: 170px;
				margin-right: auto;
				margin-left: auto;
			}
			#filter select
			{
				width: 150px;
			}
			#filterplaceholder
			{
				height: 0px;
			}
			#closetable { position: relative; cursor:hand; display: inline-block; float:right; top:5px; left:-6px; color:silver;}
			#closetable:hover{ color:orange;}
		</style>
	</head>
	<body onselectstart="return false;">
	
<!--   	<div id="update2" class="update">PxUpdate2</div>
	<div id="update1" class="update">PxUpdate1</div>
 -->

 		<div id="menucloser" class="sendtoback"></div>
		<div id="application">
			<div class="component-container">

				<div id="listlabel" class="component-container-label"></div>
				<div id="closetable">filter</div>
				<div class="component-container-label-border"></div>

				<div id="filterplaceholder">
<!-- 					<ul id="filter"> 
						<li>
							<label class="filterlabel">Region:</label>
							<select tabindex=1 id="filterregion">

							</select>
						</li>
						<li>
							<label class="filterlabel">Country:</label>
							<select  tabindex=2 id="filtercountry">

							</select>
						</li>
						<li>
							<label class="filterlabel">Sector:</label>
							<select tabindex=3 id="filtersector">

							</select>
						</li>
						<li>
							<label class="filterlabel">Subsector:</label>
							<select tabindex=4 id="filtersubsector">

							</select>
						</li>
						<li>
							<label class="filterlabel"></label>
							<div class="button"><A tabindex=5 HREF="#" id="filtergo" class="buttontext">GO. Now.</A></div>
						</li> 
	 				</ul> -->
	 		
 				</div>

			<span id="fixedheader"></span>
 			<div id="nanocontainer" class="nano">
				<div id="tablecontent" class="content">
						
				</div>
			</div> 
		</div>		
	</div>
		<div id="brokerpage">
<!-- 			<div id="brokerarrowtop" class="hideme"></div>
			<div id="brokerarrowbottom" class="hideme"></div>
			<table id="brokerpagetable" class="hideme">
				<thead>
					<tr>
						<th id="brokerpagetitle">Raw Data </th>
						<th id="tradesrawdatatoggle" class="bpvalset"></th>
					</tr>
				</thead>
				<tbody>
					<tr  class="odd">
						<td colspan="2" id="BRKPG1"><pre>                                        </pre></td>
					</tr>
					<tr class="even">
						<td colspan="2" id="BRKPG2"><pre>                                        </pre></td>
					</tr>
					<tr class="odd">
						<td colspan="2" id="BRKPG3"><pre>                                        </pre></td>
					</tr>
					<tr class="even">
						<td colspan="2" id="BRKPG4"><pre>                                        </pre></td>
					</tr>
					<tr class="odd">
						<td colspan="2" id="BRKPG5"><pre>                                        </pre></td>
					</tr>
					<tr class="even">
						<td colspan="2" id="BRKPG6"><pre>                                        </pre></td>
					</tr>
					<tr class="odd">
						<td colspan="2" id="BRKPG7"><pre>                                        </pre></td>
					</tr>
					<tr class="even">
						<td colspan="2" id="BRKPG8"><pre>                                        </pre></td>
					</tr>
					<tr class="odd">
						<td colspan="2" id="BRKPG9"><pre>                                        </pre></td>
					</tr>
					<tr class="even">
						<td colspan="2" id="BRKPG10"><pre>                                        </pre></td>
					</tr>
				</tbody>
			</table> -->
		</div>
		<div id="depthandtrades">
<!--  		<table id="trades" class="hideme">
			<thead>
				<tr>
					<th class="">Direction</th>
					<th class="">Broker</th>
					<th class="">Price</th>
					<th class="">Size</th>
				</tr>
			</thead>
			<tr class="odd">
				<td class="hittake" id="thittake1">&nbsp;</td>
				<td class="broker" id="tbroker1">&nbsp;</td>
				<td class="price" id="tprice1">&nbsp;</td>
				<td class="size" id="tsize1">&nbsp;</td>
			</tr>
			<tr class="even">
				<td class="hittake" id="thittake2">&nbsp;</td>
				<td class="broker" id="tbroker2">&nbsp;</td>
				<td class="price" id="tprice2">&nbsp;</td>
				<td class="size" id="tsize2">&nbsp;</td>
			</tr>
			<tr class="odd">
				<td class="hittake" id="thittake3">&nbsp;</td>
				<td class="broker" id="tbroker3">&nbsp;</td>
				<td class="price" id="tprice3">&nbsp;</td>
				<td class="size" id="tsize3">&nbsp;</td>
			</tr>
			<tr class="even">
				<td class="hittake" id="thittake4">&nbsp;</td>
				<td class="broker" id="tbroker4">&nbsp;</td>
				<td class="price" id="tprice4">&nbsp;</td>
				<td class="size" id="tsize4">&nbsp;</td>
			</tr>
			<tr class="odd">
				<td class="hittake" id="thittake5">&nbsp;</td>
				<td class="broker" id="tbroker5">&nbsp;</td>
				<td class="price" id="tprice5">&nbsp;</td>
				<td class="size" id="tsize5">&nbsp;</td>
			</tr>
			<tr class="even">
				<td class="hittake" id="">&nbsp; </td>
				<td class="broker" id="">&nbsp; </td>
				<td class="price" id="">&nbsp; </td>
				<td class="size" id="moretrades">more...</td>
			</tr>
		</table> 


		<table id="marketdepth" class="hideme">
			<div id="deptharrow"></div>
			<thead>
				<tr>
					<th class="bbrokers">C</th>
					<th class="bsize">Size</th>
					<th class="bid">Bid</th>
					<th class="ask">Ask</th>
					<th class="asize">Size</th>
					<th class="abrokers">C</th>
				</tr>
			</thead>
			<tbody>
				<TR class="odd"  attribution="#attribution">
					<TD class="bbrokers" id="BRKBID1">&nbsp;</TD>
					<TD class="bsize" id="SZBID1">&nbsp;</TD>
					<TD class="bid" id="PXBID1">&nbsp;</TD>
					<TD class="ask" id="PXASK1">&nbsp;</TD>
					<TD class="asize" id="SZASK1">&nbsp;</TD>
					<TD class="abrokers" id="BRKASK1">&nbsp;</TD>
				</TR>
				<TR  class="even" attribution="#attribution">
					<TD class="bbrokers" id="BRKBID2">&nbsp;</TD>
					<TD class="bsize" id="SZBID2">&nbsp;</TD>
					<TD class="bid" id="PXBID2">&nbsp;</TD>
					<TD class="ask" id="PXASK2">&nbsp;</TD>
					<TD class="asize" id="SZASK2">&nbsp;</TD>
					<TD class="abrokers" id="BRKASK2">&nbsp;</TD>
				</TR>
				<TR class="odd" attribution="#attribution">
					<TD class="bbrokers" id="BRKBID3">&nbsp;</TD>
					<TD class="bsize" id="SZBID3">&nbsp;</TD>
					<TD class="bid" id="PXBID3">&nbsp;</TD>
					<TD class="ask" id="PXASK3">&nbsp;</TD>
					<TD class="asize" id="SZASK3">&nbsp;</TD>
					<TD class="abrokers" id="BRKASK3">&nbsp;</TD>
				</TR>
				<TR  class="even" attribution="#attribution">
					<TD class="bbrokers" id="BRKBID4">&nbsp;</TD>
					<TD class="bsize" id="SZBID4">&nbsp;</TD>
					<TD class="bid" id="PXBID4">&nbsp;</TD>
					<TD class="ask" id="PXASK4">&nbsp;</TD>
					<TD class="asize" id="SZASK4">&nbsp;</TD>
					<TD class="abrokers" id="BRKASK4">&nbsp;</TD>
				</TR>
				<TR class="odd" attribution="#attribution">
					<TD class="bbrokers" id="BRKBID5">&nbsp;</TD>
					<TD class="bsize" id="SZBID5">&nbsp;</TD>
					<TD class="bid" id="PXBID5">&nbsp;</TD>
					<TD class="ask" id="PXASK5">&nbsp;</TD>
					<TD class="asize" id="SZASK5">&nbsp;</TD>
					<TD class="abrokers" id="BRKASK5">&nbsp;</TD>
				</TR>
				<TR  class="even" attribution="#attribution">
					<TD class="bbrokers" id="BRKBID6">&nbsp;</TD>
					<TD class="bsize" id="SZBID6">&nbsp;</TD>
					<TD class="bid" id="PXBID6">&nbsp;</TD>
					<TD class="ask" id="PXASK6">&nbsp;</TD>
					<TD class="asize" id="SZASK6">&nbsp;</TD>
					<TD class="abrokers" id="BRKASK6">&nbsp;</TD>
				</TR>
			</tody>
		</table>  -->
		</div>
		
		<!-- Right Click Menu START -->
		<div id="rightclickmenu">
			<table id="rightclicktable">
				<tbody>
					
				</tbody>
			</table>
		</div>
		<!-- Right Click Menu END -->

	</body>
	<script type="text/javascript">
	


	//---------------------- test package --------------------------

		// function fakeClick(event, anchorObj) 
		// {
		//   if (anchorObj.click) 
		//   {
		//     anchorObj.click()
		//   }
		//   else if(document.createEvent) 
		//   {
		//     if(event.target !== anchorObj) 
		//     {
		//       var evt = document.createEvent("MouseEvents"); 
		//       evt.initMouseEvent("click", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null); 
		//       var allowDefault = anchorObj.dispatchEvent(evt);
		//       // you can check allowDefault for false to see if
		//       // any handler called evt.preventDefault().
		//     	}
		// 	}
		// }
		// var nTime = 1200;
	 // 	var test = new Object();
	 // 	_hookBook(test,"test");



 		// --- Manual Testing START ---
//		_initialiseTable("Crude",DowJoneAndNamesAndAggregateAndDepth,"","");
		// _initialiseTable("Crude",crudeAndNamesAndAggregateAndDepth,"","");
		// _setListLabel("Brazil2");
 	// 	_newInstrument("CL99","STAN2","AGG1","1");
		// _newQuote("STAN1","STANLEYLEE","1","DISN"); 	
		// _newQuote("STAN2","STANTHEMAN","1","AXPN"); 



		// window.setTimeout(function()
		// {
		// 	_expireInstrument("CLN2","ask");
		// 	_expireInstrument("CLN2","bid");
		// },1000);

		// window.setTimeout(function()
		// {
	 // 		_dataUpdate("CLN2ASK;0.00","CLN2SZASK;00","CLN2BRKASK;GT","CLN2TKASK;TK","CLN2TIMASK;09:00");
 	// 		_dataUpdate("CLN2BID;0.00","CLN2SZBID;00","CLN2BRKBID;GT","CLN2HTBID;TK","CLN2TIMBID;09:00");
		// }, 1500);

		// window.setTimeout(function()
		// {
	 // 	 		 _expireInstrument("CLN2","ask");
		// 	 _expireInstrument("CLN2","bid");

		// },2000);

		// window.setTimeout(function()
		// {
	 // 	 	_dataUpdate("CLN2ASK;0.00","CLN2SZASK;00","CLN2BRKASK;GT","CLN2TKASK;TK","CLN2TIMASK;09:00");
 	// 	 	_dataUpdate("CLN2BID;0.00","CLN2SZBID;00","CLN2BRKBID;GT","CLN2HTBID;TK","CLN2TIMBID;09:00");

		// }, 2500);



		// --- AUTOMATED TESTING START ---

 	// 	_initialiseAllFilterDropDowns("None;BRIC;LATAM","None;Brazil;Venezula;Columbia;Peru;Bolivia","None;Energy;Finance");

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("filtergo"));
		// }, nTime);

		// window.setTimeout(function()
		// {
		//  	_initialiseTable("Crude",crudeAndNamesAndAggregateAndDepth,"","");
		//  	_setListLabel("Brazil");

		// }, nTime * 2);


		// window.setTimeout(function()
		// {
		// 	_dataUpdate("CLN2ASK;0.00","CLN2SZASK;00","CLN2BRKASK;GT","CLN2TKASK;TK","CLN2TIMASK;09:00");
		//  	_dataUpdate("CLN2BID;0.00","CLN2SZBID;00","CLN2BRKBID;GT","CLN2HTBID;TK","CLN2TIMBID;09:00");

		// }, nTime * 3);

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("closetable"));
		// 	_initialiseAllFilterDropDowns("None;BRIC;LATAM","None;Brazil;Venezula;Columbia;Peru;Bolivia","None;Energy;Finance");
		// },nTime * 4);

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("filtergo"));
		// }, nTime * 6);

		// window.setTimeout(function()
		// {

		//  	_initialiseTable("Crude",crudeAndNamesAndAggregateAndDepth,"","");
		//  	_setListLabel("Brazil2");

		// }, nTime * 7);

		// window.setTimeout(function()
		// {
	 // 	 	_dataUpdate("CLQ2ASK;2.00","CLQ2SZASK;00","CLQ2BRKASK;GT","CLQ2TKASK;TK","CLQ2TIMASK;09:00");
	 // 	 	_dataUpdate("CLQ2BID;0.00","CLQ2SZBID;00","CLQ2BRKBID;GT","CLQ2HTBID;TK","CLQ2TIMBID;09:00");
		// }, nTime * 9);

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("CLQ2BRKBID").firstChild);
		// 	_updateBrokerPageRow("BRKPG1;<pre>PDVSA   17N         / 88.50       x 2   </pre>");
		// 	_writeBrokerName("TRADITION");
		// },nTime * 10);

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("CLQ2BRKBID").firstChild);
		// },nTime * 11);


		// window.setTimeout(function()
		// {
		// 	var $depthexpand = $("#CLN2").find("img");
		// 	fakeClick("test",$depthexpand[0])
		// 	_depthUpdate("PXBID1;45","SZBID1;4","BRKBID1;B");   
	 //  		_depthUpdate("PXASK1;45","SZASK1;4","BRKASK5;B"); 
		// },nTime * 12);

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("BRKBID1"));
		// 	_updateBrokerPageRow("BRKPG1;<pre>STANL   17N         / 88.50       x 2   </pre>");
		// 	_writeBrokerName("GFI");
		// },nTime * 13);

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("tradesrawdatatoggle"));
		// },nTime * 14);

		// window.setTimeout(function()
		// {
		// 	_newInstrument("CL99","STAN2","AGG1","1");
		// 	_newInstrument("CL101","STA3","AGG7","1");
		// 	_newInstrument("CL102","STA4","AGG10","1");
		// },nTime * 15);

		// window.setTimeout(function()
		// {
		// 	fakeClick("test",document.getElementById("menucloser"));
		// },nTime * 16);


		// window.setTimeout(function()
		// {
		//  	_newInstrument("CL99","STAN2","AGG1","1");
		// 	_newQuote("STAN1","STANLEYLEE","1","DISN"); 	
		// 	_newQuote("STAN2","STANTHEMAN","1","AXPN"); 

		// },nTime * 17);

		// window.setTimeout(function()
		// {
	 //  		_expireInstrument("CLQ2","ask");
		// 	_expireInstrument("CLQ2","bid");

		// },nTime * 18);


		// window.setTimeout(function()
		// {
	 // 	 	_dataUpdate("CLQ2ASK;2.00","CLQ2SZASK;00","CLQ2BRKASK;GT","CLQ2TKASK;TK","CLQ2TIMASK;09:00");
	 // 	 	_dataUpdate("CLQ2BID;0.00","CLQ2SZBID;00","CLQ2BRKBID;GT","CLQ2HTBID;TK","CLQ2TIMBID;09:00");

		// },nTime * 19);

		// window.setTimeout(function()
		// {//test case for situation where an expired quote should not have a dataupdate flash colour update.
	 //  		_expireInstrument("CLQ2","ask");
		// 	_expireInstrument("CLQ2","bid");

		// },nTime * 19.1);


	// //	------------------------ Performance Testing  START -------------------------------------

	// 	var uniqueid = 1;
	// 	var counter = 1;
	// 	var issuerCount = 1;
	// 	var timer = window.setInterval(function(){testdata()},10)

	// 	function testdata()
	// 	{
	// 		newInstrument("CL" + uniqueid,"CL" + uniqueid + "^" + issuerCount,"issueragg" + issuerCount,"1");
			
	// 		counter++;
	// 		uniqueid++;

	// 		if (counter % 3 == 0)
	// 			issuerCount++;

	// 		if (counter == 50)
	// 		{	
	// 			issuerCount = 1;  
	// 			counter = 1;
	// 		}

	// 		var ranNum = Math.floor(Math.random()*uniqueid)
	// 		if (ranNum == 0)
	// 			ranNum = 1;

	// 		dataUpdate("CL" + ranNum + "ASK;0.00","CL"+ ranNum + "SZBID;00","CL" + ranNum + "BRKBID;GT", "CL" + ranNum + "HTBID;HT");
	// 	}
		 
	// 	//------------------------ Performance Testing  END -------------------------------------



		
	</script>
	
</html>




















